% Generated by roxygen2: do not edit by hand
% Please edit documentation in R/dsa_tables.R
\name{dsa_nmb_table}
\alias{dsa_nmb_table}
\title{Format DSA Net Monetary Benefit as Summary Table}
\usage{
dsa_nmb_table(
  results,
  health_outcome,
  cost_outcome,
  groups = "overall",
  wtp = NULL,
  interventions = NULL,
  comparators = NULL,
  decimals = 0,
  font_size = 11,
  table_format = c("flextable", "kable")
)
}
\arguments{
\item{results}{A openqaly DSA results object (output from run_dsa)}

\item{health_outcome}{Name of health outcome summary (e.g., "total_qalys")}

\item{cost_outcome}{Name of cost summary (e.g., "total_cost")}

\item{groups}{Group selection: "overall" (default), specific group, or NULL
(all groups)}

\item{wtp}{Optional override for willingness-to-pay. If NULL, extracts from
outcome summary metadata.}

\item{interventions}{Character vector of intervention strategy name(s).
At least one of interventions or comparators must be specified.}

\item{comparators}{Character vector of comparator strategy name(s).
At least one of interventions or comparators must be specified.}

\item{decimals}{Number of decimal places (default: 0 for monetary values)}

\item{font_size}{Font size for rendering (default: 11)}

\item{table_format}{Character. Backend to use: "flextable" (default) or "kable"}
}
\value{
A table object (flextable or kable depending on table_format)
}
\description{
Creates a table showing DSA Net Monetary Benefit with low, base case, and high
values for each parameter. NMB = (Difference in Outcomes x WTP) - Difference in Costs.
}
\details{
The table shows each DSA parameter as a row with three columns per comparison:
Low, Base, and High NMB values.

When multiple groups need to be displayed (groups = NULL), uses group label rows
(in bold) followed by indented parameter rows for each group.

Unlike dsa_outcomes_table, this function always requires at least one of
interventions or comparators since NMB is inherently a comparison metric.

NMB calculations always use discounted values as this is a cost-effectiveness measure.
}
\examples{
\dontrun{
model <- define_model("markov") \%>\%
  add_variable("p_disease", 0.03) \%>\%
  add_dsa_variable("p_disease", low = 0.01, high = 0.05)
dsa_results <- run_dsa(model)

# Basic DSA NMB table (comparator perspective)
dsa_nmb_table(dsa_results, "total_qalys", "total_cost",
              comparators = "control")

# With explicit WTP
dsa_nmb_table(dsa_results, "total_qalys", "total_cost",
              interventions = "treatment", wtp = 50000)

# All groups with flextable format
dsa_nmb_table(dsa_results, "total_qalys", "total_cost",
              groups = NULL, comparators = "control",
              table_format = "flextable")
}

}
