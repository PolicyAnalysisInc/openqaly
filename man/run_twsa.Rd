% Generated by roxygen2: do not edit by hand
% Please edit documentation in R/twsa.R
\name{run_twsa}
\alias{run_twsa}
\title{Run Two-Way Sensitivity Analysis}
\usage{
run_twsa(
  model,
  vbp_price_variable = NULL,
  vbp_intervention = NULL,
  vbp_outcome_summary = NULL,
  vbp_cost_summary = NULL,
  ...
)
}
\arguments{
\item{model}{An openqaly model object with TWSA specifications}

\item{vbp_price_variable}{Name of the price variable to vary for VBP analysis.
If NULL (default), standard TWSA without VBP is performed.}

\item{vbp_intervention}{Intervention strategy name for VBP analysis.
Required if vbp_price_variable is specified.}

\item{vbp_outcome_summary}{Outcome summary name for VBP analysis.
Defaults to "total_qalys" from model metadata if available.}

\item{vbp_cost_summary}{Cost summary name for VBP analysis.
Defaults to "total_cost" from model metadata if available.}

\item{...}{Additional arguments passed to run_segment}
}
\value{
Results list with segments and aggregated results (includes run_id dimension).
  When VBP is enabled, also includes twsa_vbp_equations tibble.
}
\description{
Runs two-way sensitivity analysis by executing the model for each grid point
defined in the TWSA specifications. Each TWSA analysis creates a grid of
X values Ã— Y values, and the model is run for each combination.
}
\examples{
\dontrun{
model <- define_model("markov") |>
  add_variable("cost_tx", 1000) |>
  add_variable("efficacy", 0.8) |>
  add_twsa("Cost vs Efficacy") |>
  add_twsa_variable("Cost vs Efficacy", "cost_tx",
    type = "range", min = 500, max = 1500, steps = 5) |>
  add_twsa_variable("Cost vs Efficacy", "efficacy",
    type = "radius", radius = 0.1, steps = 3)

results <- run_twsa(model)
twsa_heatmap_plot(results, "total_qalys")
}
}
