% Generated by roxygen2: do not edit by hand
% Please edit documentation in R/model_builder.R
\name{add_twsa_variable}
\alias{add_twsa_variable}
\title{Add Variable to Two-Way Sensitivity Analysis}
\usage{
add_twsa_variable(
  model,
  twsa_name,
  variable,
  type,
  min = NULL,
  max = NULL,
  radius = NULL,
  steps = NULL,
  values = NULL,
  strategy = "",
  group = "",
  display_name = NULL,
  include_base_case = TRUE
)
}
\arguments{
\item{model}{An oq_model_builder object}

\item{twsa_name}{Name of the TWSA analysis to add the variable to (must exist)}

\item{variable}{Name of the variable to vary (must exist in model$variables)}

\item{type}{Type of range specification: "range", "radius", or "custom"}

\item{min}{For type="range": minimum value (can use NSE expressions)}

\item{max}{For type="range": maximum value (can use NSE expressions)}

\item{radius}{For type="radius": distance from base case (can use NSE)}

\item{steps}{For type="range" or "radius": number of steps}

\item{values}{For type="custom": numeric vector of values to use}

\item{strategy}{Optional strategy name to limit the variable to specific strategy}

\item{group}{Optional group name to limit the variable to specific group}

\item{display_name}{Optional display name for plots and tables}

\item{include_base_case}{Logical. If TRUE (default), ensures the base case
value is included in the parameter grid. If the base case value is already
present in the values, no duplicate is added.}
}
\value{
The modified model object
}
\description{
Add a variable to vary in a two-way sensitivity analysis. Each TWSA must have
exactly two parameters (variables or settings). Values can be specified using
three different range types:
}
\details{
- `type = "range"`: Vary from `min` to `max` in `steps` evenly-spaced values
- `type = "radius"`: Vary from `bc - radius` to `bc + radius` where `bc` is
  the base case value, creating `steps * 2 + 1` values centered on the base case
- `type = "custom"`: Use explicit values provided as a numeric vector
}
\examples{
\dontrun{
model <- define_model("markov") |>
  add_variable("cost_tx", 1000) |>
  add_variable("efficacy", 0.8) |>
  add_twsa("Cost vs Efficacy") |>
  # Using range type
  add_twsa_variable("Cost vs Efficacy", "cost_tx",
    type = "range", min = 500, max = 1500, steps = 5) |>
  # Using radius type (varies around base case)
  add_twsa_variable("Cost vs Efficacy", "efficacy",
    type = "radius", radius = 0.1, steps = 3)

# Using custom values
model <- define_model("markov") |>
  add_variable("discount_rate", 0.03) |>
  add_twsa("Discount Analysis") |>
  add_twsa_variable("Discount Analysis", "discount_rate",
    type = "custom", values = c(0, 0.015, 0.03, 0.05))
}
}
