% Generated by roxygen2: do not edit by hand
% Please edit documentation in R/bc_ce_plots.R
\name{pairwise_ce_plot}
\alias{pairwise_ce_plot}
\title{Plot Pairwise Cost-Effectiveness Comparisons}
\usage{
pairwise_ce_plot(
  res,
  outcome_summary,
  cost_summary,
  groups = "overall",
  strategies = NULL,
  interventions = NULL,
  comparators = NULL,
  wtp = NULL
)
}
\arguments{
\item{res}{A openqaly model results object (output from run_model)}

\item{outcome_summary}{Name of the outcome summary to use (e.g., "total_qalys")}

\item{cost_summary}{Name of the cost summary to use (e.g., "total_cost")}

\item{groups}{Group selection: "overall" (default), specific group name, vector of groups, or NULL (all groups + aggregated)}

\item{strategies}{Character vector of strategy names to include (NULL for all)}

\item{interventions}{Character vector of intervention strategies (e.g., "new_treatment").
If provided, shows intervention - comparator comparisons. Mutually exclusive with comparators.}

\item{comparators}{Character vector of comparator strategies (e.g., "control").
If provided, shows intervention - comparator comparisons. Mutually exclusive with interventions.}

\item{wtp}{Willingness-to-pay threshold for the WTP line. If NULL (default), uses
the WTP from the outcome summary metadata if available. If neither is available,
no WTP line is drawn.}
}
\value{
A ggplot2 object
}
\description{
Creates a cost-effectiveness plane showing pairwise comparisons against a single
reference strategy. Uses delta axes (incremental cost vs. incremental outcome)
with the reference strategy at the origin.
}
\details{
The cost-effectiveness plane plots incremental outcome (x-axis) vs. incremental cost (y-axis).
The origin (0,0) represents the reference strategy. A dotted WTP threshold line is drawn
through the origin if a WTP value is available (from metadata or explicit argument).

When comparators is specified:
- All other strategies are plotted as points showing their incremental values vs. comparator
- Lines connect origin to each point, with slope representing ICER
- Single plot (or faceted by group if group=NULL)

When interventions is specified:
- Each comparison gets its own facet panel showing intervention vs. one other strategy
- One point per panel at the intervention's incremental position
- Line shows ICER slope from origin
- If group=NULL: uses facet_grid with group on rows, comparison on columns

CE calculations always use discounted values as this is a cost-effectiveness measure.
}
\examples{
\dontrun{
model <- read_model(system.file("models/example_psm", package = "openqaly"))
results <- run_model(model)

# Pairwise CE plane vs control (comparator perspective)
pairwise_ce_plot(results, "total_qalys", "total_cost", comparators = "control")

# New treatment vs others (intervention perspective)
pairwise_ce_plot(results, "total_qalys", "total_cost", interventions = "new_treatment")

# For all groups
pairwise_ce_plot(results, "total_qalys", "total_cost", group = NULL,
                 comparators = "control")

# With explicit WTP threshold line
pairwise_ce_plot(results, "total_qalys", "total_cost",
                 comparators = "control", wtp = 100000)
}

}
