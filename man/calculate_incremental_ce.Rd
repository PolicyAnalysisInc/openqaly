% Generated by roxygen2: do not edit by hand
% Please edit documentation in R/ce.r
\name{calculate_incremental_ce}
\alias{calculate_incremental_ce}
\title{Calculate Incremental Cost-Effectiveness Analysis}
\usage{
calculate_incremental_ce(
  results,
  outcome_summary,
  cost_summary,
  group = "aggregated",
  strategies = NULL,
  discounted = FALSE,
  strategy_name_field = "display_name",
  group_name_field = "display_name",
  summary_name_field = "display_name"
)
}
\arguments{
\item{results}{A heRomod2 model results object}

\item{outcome_summary}{Name of the outcome summary to use (e.g., "total_qalys")}

\item{cost_summary}{Name of the cost summary to use (e.g., "total_cost")}

\item{group}{Group selection: "aggregated" (default), specific group name, or NULL (all groups + aggregated)}

\item{strategies}{Character vector of strategy names to include (NULL for all)}

\item{discounted}{Logical. Use discounted values? (default: FALSE)}

\item{strategy_name_field}{Field to use for strategy names: "name", "display_name", or "abbreviation" (default: "display_name")}

\item{group_name_field}{Field to use for group names: "name" or "display_name" (default: "display_name")}

\item{summary_name_field}{Field to use for summary labels: "name" or "display_name" (default: "display_name")}
}
\value{
A tibble with columns:
  \item{group}{Group name (mapped via group_name_field)}
  \item{strategy}{Strategy name (mapped via strategy_name_field)}
  \item{comparator}{Name of strategy being compared against (NA for reference)}
  \item{cost}{Total cost}
  \item{outcome}{Total outcome}
  \item{dcost}{Incremental cost vs. last frontier strategy}
  \item{doutcome}{Incremental outcome vs. last frontier strategy}
  \item{icer}{ICER (icer class object)}
  \item{on_frontier}{Is strategy on the efficiency frontier?}
  \item{dominated}{Is strategy dominated (strictly or extended)?}
  \item{strictly_dominated}{Is strategy strictly dominated?}
  \item{extendedly_dominated}{Is strategy extended dominated?}
}
\description{
Performs sequential incremental cost-effectiveness analysis to identify the
cost-effectiveness frontier. Follows a 6-step process: (1) sort by cost,
(2) calculate incremental cost/outcome, (3) remove dominated strategies,
(4) calculate ICERs, (5) remove extended dominance, (6) recalculate final ICERs.
}
\details{
The function implements sequential ICER analysis:
\itemize{
  \item Strategies are sorted by increasing cost
  \item Dominated strategies (more costly, less effective) are identified
  \item Extended dominance is detected (ICER higher than next strategy's ICER)
  \item Final deltas are always vs. the previous strategy on the frontier
}

When \code{group = NULL}, analysis is performed separately for each group and aggregated results.
}
\examples{
\dontrun{
model <- read_model(system.file("models/example_psm", package = "heRomod2"))
results <- run_model(model)

# Incremental CE for aggregated population
ce <- calculate_incremental_ce(results, "total_qalys", "total_cost")

# For all groups
ce_all <- calculate_incremental_ce(results, "total_qalys", "total_cost", group = NULL)
}

}
