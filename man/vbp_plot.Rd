% Generated by roxygen2: do not edit by hand
% Please edit documentation in R/vbp_plots.R
\name{vbp_plot}
\alias{vbp_plot}
\title{Plot Value-Based Pricing}
\usage{
vbp_plot(
  vbp_results,
  wtp_range = NULL,
  wtp_step = NULL,
  comparators = NULL,
  groups = "overall",
  show_default_wtp = TRUE,
  show_vbp_at_wtp = TRUE
)
}
\arguments{
\item{vbp_results}{Results from run_vbp()}

\item{wtp_range}{Numeric vector with min and max WTP values for x-axis.
If NULL, auto-generates based on outcome summary metadata (0 to 2x default WTP).}

\item{wtp_step}{Step size for WTP thresholds. If NULL, auto-calculated
for smooth curve (~40 points).}

\item{comparators}{Character vector of comparators to include.
NULL for all comparators.}

\item{groups}{Group selection:
\itemize{
  \item \code{"overall"} - Overall population (default)
  \item \code{"group_name"} - Specific group by name
  \item \code{NULL} or \code{"all"} - All groups (triggers faceting)
  \item \code{"all_groups"} - All groups without overall
}}

\item{show_default_wtp}{Logical. Show vertical reference line at the
default WTP from outcome metadata? Default TRUE.}

\item{show_vbp_at_wtp}{Logical. Show VBP values at the default WTP as
point markers with labels on each line? Default TRUE. Only applies
when show_default_wtp is TRUE.}
}
\value{
A ggplot2 object
}
\description{
Creates a line plot showing the value-based price at different
willingness-to-pay thresholds for each comparator strategy.
}
\details{
The VBP plot shows how the maximum cost-effective price for the intervention
varies with the willingness-to-pay threshold. Each line represents a different
comparator - the VBP is the price at which the intervention becomes cost-neutral
versus that comparator.

When multiple groups are present, the plot is automatically faceted by group.
}
\examples{
\dontrun{
model <- read_model(system.file("models/example_psm", package = "openqaly"))

vbp_results <- run_vbp(
  model,
  price_variable = "c_drug",
  intervention_strategy = "targeted"
)

# Basic VBP plot with auto-generated WTP range
vbp_plot(vbp_results)

# Custom WTP range
vbp_plot(vbp_results, wtp_range = c(0, 150000), wtp_step = 10000)

# VBP plot for specific comparator
vbp_plot(vbp_results, comparators = "chemo")
}

}
