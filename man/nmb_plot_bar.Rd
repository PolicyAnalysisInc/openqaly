% Generated by roxygen2: do not edit by hand
% Please edit documentation in R/outcome_plots.R
\name{nmb_plot_bar}
\alias{nmb_plot_bar}
\title{Plot Net Monetary Benefit as Bar Chart}
\usage{
nmb_plot_bar(
  res,
  outcome_summary,
  cost_summary,
  group = "aggregated",
  wtp = NULL,
  referent = NULL,
  comparator = NULL,
  strategy_name_field = "display_name",
  group_name_field = "display_name",
  value_name_field = "display_name",
  summary_name_field = "display_name",
  discounted = FALSE
)
}
\arguments{
\item{res}{A heRomod2 model results object (output from run_model)}

\item{outcome_summary}{Name of the outcome summary to use (e.g., "total_qalys")}

\item{cost_summary}{Name of the cost summary to use (e.g., "total_cost")}

\item{group}{Group selection: "aggregated" (default), specific group name, or NULL}

\item{wtp}{Optional override for willingness-to-pay. If NULL, extracts from outcome summary metadata.}

\item{referent}{Single reference strategy for intervention perspective (e.g., "new_treatment").
If provided, shows referent - comparator comparisons. Mutually exclusive with comparator.}

\item{comparator}{Single reference strategy for comparator perspective (e.g., "control").
If provided, shows intervention - comparator comparisons. Mutually exclusive with referent.}

\item{strategy_name_field}{Field to use for strategy names: "name" or "display_name"}

\item{group_name_field}{Field to use for group names: "name" or "display_name"}

\item{summary_name_field}{Field to use for summary labels}

\item{discounted}{Logical. Use discounted values?}
}
\value{
A ggplot2 object
}
\description{
Creates a bar chart showing Net Monetary Benefit (NMB) by strategy comparison and group.
NMB = (Difference in Outcomes Ã— WTP) - Difference in Costs
}
\details{
Either `referent` or `comparator` must be specified (one is mandatory).
WTP is automatically extracted from the outcome summary metadata if available,
but can be overridden using the `wtp` parameter.
}
\examples{
\dontrun{
model <- read_model(system.file("models/example_psm", package = "heRomod2"))
results <- run_model(model)

# NMB with WTP from metadata (comparator perspective)
nmb_plot_bar(results, "total_qalys", "total_cost", comparator = "control")

# NMB with explicit WTP (referent perspective)
nmb_plot_bar(results, "total_qalys", "total_cost", referent = "new_treatment", wtp = 50000)
}

}
