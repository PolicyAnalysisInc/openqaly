% Generated by roxygen2: do not edit by hand
% Please edit documentation in R/ce.r
\name{calculate_pairwise_ce}
\alias{calculate_pairwise_ce}
\title{Calculate Pairwise Cost-Effectiveness Comparisons}
\usage{
calculate_pairwise_ce(
  results,
  outcome_summary,
  cost_summary,
  group = "aggregated",
  strategies = NULL,
  referent = NULL,
  comparator = NULL,
  discounted = FALSE,
  strategy_name_field = "display_name",
  group_name_field = "display_name",
  summary_name_field = "display_name"
)
}
\arguments{
\item{results}{A heRomod2 model results object}

\item{outcome_summary}{Name of the outcome summary to use (e.g., "total_qalys")}

\item{cost_summary}{Name of the cost summary to use (e.g., "total_cost")}

\item{group}{Group selection: "aggregated" (default), specific group name, or NULL (all groups + aggregated)}

\item{strategies}{Character vector of strategy names to include (NULL for all)}

\item{referent}{Single reference strategy for intervention perspective (e.g., "new_treatment").
If provided, shows referent - comparator comparisons. Mutually exclusive with comparator.}

\item{comparator}{Single reference strategy for comparator perspective (e.g., "control").
If provided, shows intervention - comparator comparisons. Mutually exclusive with referent.}

\item{discounted}{Logical. Use discounted values? (default: FALSE)}

\item{strategy_name_field}{Field to use for strategy names: "name", "display_name", or "abbreviation" (default: "display_name")}

\item{group_name_field}{Field to use for group names: "name" or "display_name" (default: "display_name")}

\item{summary_name_field}{Field to use for summary labels: "name" or "display_name" (default: "display_name")}
}
\value{
A tibble with columns:
  \item{group}{Group name (mapped via group_name_field)}
  \item{strategy}{Strategy name (mapped via strategy_name_field)}
  \item{comparator}{Name of strategy being compared against}
  \item{cost}{Total cost of the strategy}
  \item{outcome}{Total outcome of the strategy}
  \item{dcost}{Incremental cost vs. comparator}
  \item{doutcome}{Incremental outcome vs. comparator}
  \item{icer}{ICER (icer class object)}
}
\description{
Performs pairwise cost-effectiveness analysis comparing all strategies against
a single reference strategy (either comparator or referent). Unlike incremental
CE which compares along the efficiency frontier, this creates independent
comparisons useful for evaluating specific interventions.
}
\details{
The function creates pairwise comparisons based on the perspective:
\itemize{
  \item When comparator is specified: Creates N-1 comparisons showing (strategy - comparator) for each non-comparator strategy
  \item When referent is specified: Creates N-1 comparisons showing (referent - strategy) for each non-referent strategy
}

Exactly one of referent or comparator must be provided.

When \code{group = NULL}, analysis is performed separately for each group and aggregated results.
}
\examples{
\dontrun{
model <- read_model(system.file("models/example_psm", package = "heRomod2"))
results <- run_model(model)

# Pairwise comparisons vs control (comparator perspective)
pw_ce <- calculate_pairwise_ce(results, "total_qalys", "total_cost",
                                comparator = "control")

# Pairwise comparisons from new treatment perspective (referent)
pw_ce <- calculate_pairwise_ce(results, "total_qalys", "total_cost",
                                referent = "new_treatment")
}

}
