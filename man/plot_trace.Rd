% Generated by roxygen2: do not edit by hand
% Please edit documentation in R/trace_output.R
\name{plot_trace}
\alias{plot_trace}
\title{Plot Trace as Stacked Area Chart}
\usage{
plot_trace(
  results,
  facet_by = NULL,
  proportional = FALSE,
  states = NULL,
  color_palette = NULL,
  show_legend = TRUE,
  collapsed = TRUE,
  strategy_name_field = "name",
  state_name_field = "name",
  time_unit = "cycle"
)
}
\arguments{
\item{results}{A heRomod2 model results object}

\item{facet_by}{Faceting variable: NULL (auto-detect), "strategy", "group",
or "both". When NULL and multiple strategies/groups exist, automatically
creates facets to separate them.}

\item{proportional}{Logical. If TRUE, show as percentages (0-100%). If FALSE
(default), show as probabilities (0-1)}

\item{states}{Character vector of states to include (NULL for all)}

\item{color_palette}{Named character vector of colors (names = state names),
or NULL to use default colors}

\item{show_legend}{Logical. Show legend?}

\item{collapsed}{Logical. Use aggregated traces (TRUE, default) or segment
traces (FALSE)}

\item{strategy_name_field}{Which strategy name field to use for facet labels:
"name", "display_name", or "abbreviation". Default is "name".}

\item{state_name_field}{Which state name field to use for legend labels:
"name", "display_name", or "abbreviation". Default is "name".}
}
\value{
A ggplot2 object
}
\description{
Creates a stacked area chart showing state occupancy over time.
This is the primary visualization for Markov trace data.
When multiple strategies or groups are present, they are automatically
faceted into separate panels.
}
\examples{
\dontrun{
model <- read_model(system.file("models/example_psm", package = "heRomod2"))
results <- run_model(model)

# Basic stacked area plot (auto-facets by strategy if >1)
plot_trace(results)

# Explicitly facet by strategy
plot_trace(results, facet_by = "strategy")

# Show as percentages
plot_trace(results, proportional = TRUE)
}

}
