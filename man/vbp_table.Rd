% Generated by roxygen2: do not edit by hand
% Please edit documentation in R/vbp_tables.R
\name{vbp_table}
\alias{vbp_table}
\title{Format VBP as Table}
\usage{
vbp_table(
  vbp_results,
  wtp_thresholds = NULL,
  comparators = "all",
  groups = "overall",
  decimals = 0,
  font_size = 11,
  table_format = c("flextable", "kable")
)
}
\arguments{
\item{vbp_results}{Results from run_vbp()}

\item{wtp_thresholds}{Numeric vector of WTP thresholds to show as rows.
If NULL, generates a default sequence based on outcome summary metadata.}

\item{comparators}{Comparator selection:
\itemize{
  \item \code{"all"} - All comparators plus aggregate (default)
  \item \code{"overall"} - Aggregate only ("vs. All Comparators")
  \item \code{"all_comparators"} - Individual comparators only (no aggregate)
  \item Character vector - Specific comparator name(s)
}}

\item{groups}{Group selection:
\itemize{
  \item \code{"overall"} - Overall population (default)
  \item \code{"group_name"} - Specific group by name
  \item \code{"all_groups"} - All groups (excluding overall)
  \item \code{NULL} or \code{"all"} - All groups plus overall
}}

\item{decimals}{Number of decimal places for VBP values (default: 0)}

\item{font_size}{Font size for rendering (default: 11)}

\item{table_format}{Character. Backend to use: "flextable" or "kable"}
}
\value{
A table object (flextable or kable depending on table_format)
}
\description{
Creates a table showing the value-based price at different willingness-to-pay
thresholds for each comparator strategy.
}
\details{
The VBP table displays the maximum price the intervention can charge while
remaining cost-effective at each WTP threshold. The "vs. All Comparators" column
shows the minimum VBP across all comparators - this is the price that ensures
cost-effectiveness versus ALL alternatives simultaneously.

VBP is calculated using the linear equation:
\deqn{VBP = slope \times WTP + intercept}

where the slope and intercept are derived from the incremental outcomes and
costs between the intervention and comparator strategies.
}
\examples{
\dontrun{
model <- read_model(system.file("models/example_psm", package = "openqaly"))

vbp_results <- run_vbp(
  model,
  price_variable = "c_drug",
  intervention_strategy = "targeted"
)

# VBP table with auto-generated WTP thresholds (all comparators + aggregate)
vbp_table(vbp_results)

# VBP table with custom WTP thresholds
vbp_table(vbp_results, wtp_thresholds = c(0, 50000, 100000, 150000))

# VBP table for specific comparator
vbp_table(vbp_results, comparators = "chemo")

# VBP table with only the aggregate column
vbp_table(vbp_results, comparators = "overall")

# VBP table with individual comparators only (no aggregate)
vbp_table(vbp_results, comparators = "all_comparators")
}

}
