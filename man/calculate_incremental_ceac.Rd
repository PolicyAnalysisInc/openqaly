% Generated by roxygen2: do not edit by hand
% Please edit documentation in R/ceac.R
\name{calculate_incremental_ceac}
\alias{calculate_incremental_ceac}
\title{Calculate Incremental Cost-Effectiveness Acceptability Curves from PSA}
\usage{
calculate_incremental_ceac(
  results,
  outcome_summary,
  cost_summary,
  wtp = seq(0, 1e+05, by = 5000),
  group = "aggregated",
  strategies = NULL,
  discounted = FALSE
)
}
\arguments{
\item{results}{A heRomod2 PSA results object (from run_psa)}

\item{outcome_summary}{Name of the outcome summary to use (e.g., "total_qalys")}

\item{cost_summary}{Name of the cost summary to use (e.g., "total_cost")}

\item{wtp}{Numeric vector of WTP thresholds to evaluate. Default is
seq(0, 100000, by = 5000)}

\item{group}{Group selection: "aggregated" (default) uses aggregated results,
specific group name filters to that group, NULL or "all" includes all groups
(triggers separate calculations per group)}

\item{strategies}{Character vector of strategy names to include (NULL for all)}

\item{discounted}{Logical. Use discounted values? (default: FALSE)}
}
\value{
A tibble with columns:
  \item{wtp}{Willingness-to-pay threshold}
  \item{strategy}{Strategy name}
  \item{probability}{Probability of being most cost-effective}
  \item{group}{Group name (if applicable)}
}
\description{
Calculates the probability that each strategy is the most cost-effective
at different willingness-to-pay (WTP) thresholds based on probabilistic
sensitivity analysis results. This performs incremental (multi-way) comparison
where all strategies are compared simultaneously.
}
\details{
The incremental CEAC shows the probability that each strategy has the highest
net monetary benefit (NMB) at each WTP threshold in a multi-way comparison.
NMB is calculated as: \code{NMB = outcome * wtp - cost}

This represents the absolute NMB versus doing nothing (0 cost, 0 outcome),
not pairwise comparisons between strategies. For pairwise comparisons, use
\code{\link{calculate_pairwise_ceac}}.

For each WTP threshold and simulation, the strategy with the highest NMB
is identified. The probability for each strategy is the proportion of
simulations where it has the highest NMB.

When multiple groups are present, the calculation is performed separately
for each group and the group column identifies which group each probability
corresponds to.
}
\examples{
\dontrun{
model <- read_model(system.file("models/example_psm", package = "heRomod2"))
psa_results <- run_psa(model, n_sim = 1000)

# Calculate incremental CEAC
ceac <- calculate_incremental_ceac(psa_results, "total_qalys", "total_cost")

# Custom WTP range
ceac <- calculate_incremental_ceac(psa_results, "total_qalys", "total_cost",
                                    wtp = seq(0, 200000, by = 10000))
}

}
